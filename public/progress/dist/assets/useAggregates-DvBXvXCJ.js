import{r as e}from"./vendor-DTtRowIX.js";import{o as t,q as n}from"./index-CUrB_qLS.js";function a(){const[a,r]=e.useState(()=>t()),[s,o]=e.useState(!a);return e.useEffect(()=>{let e=!0;a?(n().then(t=>{e&&r(t)}),o(!1)):n().then(t=>{e&&r(t)}).finally(()=>e&&o(!1));const s=()=>{const e=t();e&&r(e)};return window.addEventListener("aggregates-updated",s),()=>{e=!1,window.removeEventListener("aggregates-updated",s)}},[]),{data:a,loading:s,refresh:async e=>{try{o(!0);const t=await n(e);r(t)}finally{o(!1)}}}}export{a as u};
