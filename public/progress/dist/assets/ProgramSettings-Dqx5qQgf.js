import{w as e,E as s,c as t,d as a,U as l,j as n,V as i,W as r,X as d,Y as c,F as o,Z as p,u as x}from"./index-CS486dXL.js";import{r as m}from"./vendor-DTtRowIX.js";import{g as u}from"./muscles-BJCGbWqM.js";import{c as h}from"./volume-D68Gt7vI.js";import"./charts-Cu4NAUVk.js";const g=["Upper","Lower","Push","Pull","Legs","Full Body","Arms","Rest","Custom"];function y(){const{program:y,setProgram:f}=e(),[v,j]=m.useState(()=>y||s(r)),[b,w]=m.useState([]),[N,k]=m.useState(!1),[S,I]=m.useState(null),[D,A]=m.useState([]),[M,C]=m.useState([]),[L,E]=m.useState([]),[W,P]=m.useState({}),[O,$]=m.useState(null),[T,R]=m.useState(!1),[F,z]=m.useState({chest:10,back:12,legs:12,shoulders:8,arms:6,core:6}),[B,V]=m.useState({current:{},diff:{},suggestions:[]}),[K,U]=m.useState(!1),[G,_]=m.useState([]),[H,X]=m.useState({}),[Y,Z]=m.useState({});m.useEffect(()=>{(async()=>{if(!y)return;const e=y.currentPhase||1,{perWeek:s,totals:t,weeklyTotals:a}=await h(e),l=Array.from({length:y.mesoWeeks},(e,s)=>a[s+1]||0);E(l),P(t)})()},[null==y?void 0:y.id,null==y?void 0:y.mesoWeeks]),m.useEffect(()=>{(async()=>{const e=await t();e.volumeTargets&&z(e.volumeTargets)})()},[]),m.useEffect(()=>{const e=setTimeout(async()=>{const e=await t();await a.put("settings",{...e||{},id:"app",volumeTargets:F})},600);return()=>clearTimeout(e)},[F]),m.useEffect(()=>{y&&j(y)},[y]),m.useEffect(()=>{a.getAll("templates").then(w)},[]),m.useEffect(()=>{(async()=>{const e=await l();C((null==e?void 0:e.program_history)||[])})()},[y]);const q=e=>{j(s=>({...s,...e,updatedAt:(new Date).toISOString()}))},J=(e,s)=>{j(t=>({...t,weeklySplit:t.weeklySplit.map((t,a)=>a===e?{...t,...s}:t)}))},Q=(e,s)=>{if(e===s||e<0||s<0||e>=v.weeklySplit.length||s>=v.weeklySplit.length)return;const t=[...v.weeklySplit],[a]=t.splice(e,1);t.splice(s,0,a),j(e=>({...e,weeklySplit:t,updatedAt:(new Date).toISOString()}))},ee=e=>{if("default"!==e){if("ppl+rest"===e){const e=["Push","Pull","Legs","Rest","Push","Pull","Legs"].map(e=>({type:e}));j(s=>({...s,name:"PPL + Rest",weeklySplit:e,weekLengthDays:7}))}else if("fullbody6"===e){const e=Array.from({length:7},(e,s)=>s<6?{type:"Full Body"}:{type:"Rest"});j(s=>({...s,name:"Full Body 6",weeklySplit:e,weekLengthDays:7}))}}else j({...v,...r,createdAt:v.createdAt,updatedAt:(new Date).toISOString()})},se=async()=>{if(y){const e=[];y.weekLengthDays!==v.weekLengthDays&&e.push(`Week length: ${y.weekLengthDays} → ${v.weekLengthDays}`);const s=y.deload.mode,t=v.deload.mode;s!==t?e.push(`Deload mode: ${s} → ${t}`):"interval"===s&&"interval"===t&&y.deload.everyNWeeks!==v.deload.everyNWeeks&&e.push(`Deload interval: ${y.deload.everyNWeeks} → ${v.deload.everyNWeeks}`);y.weeklySplit.map(e=>e.customLabel||e.type).join("|")!==v.weeklySplit.map(e=>e.customLabel||e.type).join("|")&&e.push("Day order / labels changed");const a=[];if(v.weeklySplit.forEach((e,s)=>{const t=y.weeklySplit[s];t&&t.templateId!==e.templateId&&a.push(`Day ${s+1} template: ${t.templateId||"–"} → ${e.templateId||"–"}`)}),a.length&&e.push(...a),e.length&&!K)return _(e),void U(!0)}const e=d(v);if(A(e),e.length)return void I("Fix errors before saving");k(!0);const s={...v,id:v.id||`prog_${Math.random().toString(36).slice(2,9)}`,createdAt:v.createdAt||(new Date).toISOString(),updatedAt:(new Date).toISOString()};await o(s)?(f(s),I("Archived previous and switched")):I("Archive failed"),k(!1)};return m.useEffect(()=>{T&&(async()=>{const e=await a.getAll("exercises"),s=new Map(e.map(e=>[e.id,e])),t=new Map(b.map(e=>[e.id,e])),l={},n={};v.weeklySplit.forEach((e,a)=>{const i=e.templateId?t.get(e.templateId):null,r={};i&&i.exerciseIds.forEach(e=>{const t=s.get(e);if(!t)return;const a=t.defaults.sets||0,n=t.muscleGroup||"other";l[n]=(l[n]||0)+a,r[n]=(r[n]||0)+a,t.secondaryMuscles&&t.secondaryMuscles.forEach(e=>{l[e]=(l[e]||0)+.5*a,r[e]=(r[e]||0)+.5*a})}),n[a]=r});const i={};Object.entries(F).forEach(([e,s])=>{i[e]=s-(l[e]||0)});const r=[];Object.entries(i).forEach(([e,s])=>{if(s<=0)return;const t=Object.entries(n).sort((s,t)=>(s[1][e]||0)-(t[1][e]||0));let a=s;for(const[l,n]of t){const n=Number(l);if(a<=0)break;const i=Math.min(Math.max(1,Math.ceil(s/t.length)),a);r.push({day:n,muscle:e,add:i}),a-=i}}),V({current:l,diff:i,suggestions:r})})()},[T,b,v.weeklySplit,F]),m.useEffect(()=>{(async()=>{const e=await a.getAll("exercises"),s=new Map(e.map(e=>[e.id,e])),t=new Map(b.map(e=>[e.id,e])),l={},n={};v.weeklySplit.forEach((e,a)=>{const i=e.templateId?t.get(e.templateId):void 0,r={};i&&i.exerciseIds.forEach(e=>{const t=s.get(e);if(!t)return;const a=t.defaults.sets||0,n=t.muscleGroup||"other";l[n]=(l[n]||0)+a,r[n]=(r[n]||0)+a,t.secondaryMuscles&&t.secondaryMuscles.forEach(e=>{l[e]=(l[e]||0)+.5*a,r[e]=(r[e]||0)+.5*a})}),n[a]=r}),X(l),Z(n)})()},[v.weeklySplit,b]),n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Program"}),S&&n.jsx("div",{className:"text-xs text-emerald-400",children:S}),n.jsxs("div",{className:"glass-card rounded-2xl p-4 space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-gray-400",children:"Mesocycle Timeline (Logged Weighted Sets)"}),n.jsx("div",{className:"flex items-end gap-1 h-24",children:L.map((e,s)=>{const t=Math.max(1,...L),a=Math.round(e/t*100);return n.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[n.jsx("div",{className:"w-full bg-slate-700/40 rounded relative h-full flex items-end",children:n.jsx("div",{className:"w-full bg-gradient-to-t from-indigo-600/70 to-indigo-400/70 rounded transition-all",style:{height:`${a}%`}})}),n.jsxs("div",{className:"text-[9px] text-gray-500",children:["W",s+1]})]},s)})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-gray-400",children:"Muscle Logged Volume (Weighted Sets)"}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:[Object.entries(W).sort((e,s)=>s[1]-e[1]).map(([e,s])=>{const t=s/Math.max(1,...Object.values(W))*100;return n.jsxs("div",{className:"bg-white/5 rounded-lg px-2 py-2 space-y-1",children:[n.jsxs("div",{className:"flex items-center justify-between text-[10px] text-gray-400",children:[n.jsxs("span",{className:"capitalize inline-flex items-center gap-1",children:[n.jsx("img",{src:u(e),alt:e,className:"w-3.5 h-3.5 opacity-80",loading:"lazy"}),e]}),n.jsx("span",{className:"tabular-nums",children:Math.round(s)})]}),n.jsx("div",{className:"h-2 w-full bg-slate-700/40 rounded overflow-hidden",children:n.jsx("div",{className:"h-full bg-emerald-500",style:{width:`${t}%`}})})]},e)}),!Object.keys(W).length&&n.jsx("div",{className:"col-span-full text-[11px] text-gray-500",children:"No logged volume yet this phase."})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"text-xs uppercase tracking-wide text-gray-400 flex items-center gap-2",children:["Projected Weekly Volume ",n.jsx("span",{className:"text-[10px] text-gray-500 normal-case",children:"(based on current templates & defaults)"})]}),Object.keys(H).length?n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:Object.entries(H).sort((e,s)=>s[1]-e[1]).map(([e,s])=>{const t=s/Math.max(1,...Object.values(H))*100,a=F[e],l=null!=a?s-a:null;return n.jsxs("div",{className:"bg-white/5 rounded-lg px-2 py-2 space-y-1",title:null!=l?`Target ${a}, Diff ${l>0?"+":""}${Math.round(l)}`:void 0,children:[n.jsxs("div",{className:"flex items-center justify-between text-[10px] text-gray-400",children:[n.jsx("span",{className:"capitalize",children:e}),n.jsxs("span",{className:"tabular-nums flex items-center gap-1",children:[Math.round(s),null!=l&&n.jsx("span",{className:l>0?"text-emerald-400":"text-amber-400",children:l>0?"▲":"▼"})]})]}),n.jsx("div",{className:"h-2 w-full bg-slate-700/40 rounded overflow-hidden",children:n.jsx("div",{className:"h-full bg-indigo-500",style:{width:`${t}%`}})})]},e)})}):n.jsx("div",{className:"text-[11px] text-gray-500",children:"No templates linked to compute projection."})]}),n.jsxs("div",{className:"flex flex-wrap gap-4",children:[n.jsxs("label",{className:"space-y-1",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Name"}),n.jsx("input",{value:v.name,onChange:e=>q({name:e.target.value}),className:"input-app rounded-xl px-3 py-2 bg-white/5 border border-white/10"})]}),n.jsxs("label",{className:"space-y-1",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Mesocycle weeks"}),n.jsx("input",{type:"number",min:4,max:20,value:v.mesoWeeks,onChange:e=>q({mesoWeeks:Number(e.target.value)}),className:"input-app rounded-xl px-3 py-2 w-28 bg-white/5 border border-white/10"})]}),n.jsxs("label",{className:"space-y-1",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Week length (days)"}),n.jsx("select",{value:v.weekLengthDays,onChange:e=>(e=>{if(e===v.weekLengthDays)return;let s=v.weeklySplit.slice(0,e);for(;s.length<e;)s.push({type:"Rest"});q({weekLengthDays:e,weeklySplit:s})})(Number(e.target.value)),className:"input-app rounded-xl px-3 py-2 bg-white/5 border border-white/10",children:[5,6,7,8,9,10].map(e=>n.jsx("option",{value:e,children:e},e))})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Deload"}),n.jsxs("div",{className:"flex gap-2 text-xs",children:[n.jsxs("label",{className:"flex items-center gap-1",children:[n.jsx("input",{type:"radio",name:"dl",checked:"none"===v.deload.mode,onChange:()=>q({deload:{mode:"none"}})}),"None"]}),n.jsxs("label",{className:"flex items-center gap-1",children:[n.jsx("input",{type:"radio",name:"dl",checked:"last-week"===v.deload.mode,onChange:()=>q({deload:{mode:"last-week"}})}),"Last week"]}),n.jsxs("label",{className:"flex items-center gap-1",children:[n.jsx("input",{type:"radio",name:"dl",checked:"interval"===v.deload.mode,onChange:()=>q({deload:{mode:"interval",everyNWeeks:"interval"===v.deload.mode?v.deload.everyNWeeks:5}})}),"Every N"]}),"interval"===v.deload.mode&&n.jsx("input",{type:"number",min:4,max:12,value:v.deload.everyNWeeks,onChange:e=>q({deload:{mode:"interval",everyNWeeks:Number(e.target.value)||4}}),className:"w-16 input-app rounded px-2 py-1 text-xs bg-white/5 border border-white/10"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-gray-400",children:"Weekly Split"}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:v.weeklySplit.map((e,s)=>{var t;return n.jsxs("div",{className:"min-w-[170px] rounded-xl p-3 bg-white/5 border border-white/10 space-y-2",draggable:!0,onDragStart:e=>{e.dataTransfer.setData("text/plain",String(s))},onDragOver:e=>e.preventDefault(),onDrop:e=>{const t=Number(e.dataTransfer.getData("text/plain"));isNaN(t)||Q(t,s)},children:[n.jsxs("div",{className:"flex items-center justify-between text-[10px] text-gray-400",children:[n.jsxs("span",{className:"cursor-grab select-none",children:["≡ Day ",s+1]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{"aria-label":"Move left",disabled:0===s,className:"px-1 rounded bg-white/10 disabled:opacity-30",onClick:()=>Q(s,s-1),children:"←"}),n.jsx("button",{"aria-label":"Move right",disabled:s===v.weeklySplit.length-1,className:"px-1 rounded bg-white/10 disabled:opacity-30",onClick:()=>Q(s,s+1),children:"→"})]})]}),n.jsx("select",{"aria-label":`Day ${s+1} type`,value:e.type,onChange:e=>J(s,{type:e.target.value,customLabel:void 0}),className:"w-full rounded-lg bg-white/10 px-2 py-1 text-xs",children:g.map(e=>n.jsx("option",{value:e,children:e},e))}),"Custom"===e.type&&n.jsx("input",{"aria-label":"Custom label",placeholder:"Label",value:e.customLabel||"",onChange:e=>J(s,{customLabel:e.target.value}),className:"w-full rounded-lg bg-white/10 px-2 py-1 text-xs"}),n.jsxs("select",{"aria-label":"Template mapping",value:e.templateId||"",onChange:e=>J(s,{templateId:e.target.value||void 0}),className:"w-full rounded-lg bg-white/10 px-2 py-1 text-[10px]",onMouseEnter:()=>{if(e.templateId){const s=b.find(s=>s.id===e.templateId);s&&$(s)}},onMouseLeave:()=>$(null),children:[n.jsx("option",{value:"",children:"No template"}),b.map(e=>n.jsx("option",{value:e.id,children:e.name},e.id))]}),e.templateId&&n.jsxs("div",{className:"text-[10px] text-gray-400",children:[(null==(t=b.find(s=>s.id===e.templateId))?void 0:t.exerciseIds.length)||0," ","exercises"]})]},s)})}),n.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[n.jsx("button",{className:"btn-outline px-3 py-1 rounded-lg",onClick:()=>ee("default"),children:"Default UL x3"}),n.jsx("button",{className:"btn-outline px-3 py-1 rounded-lg",onClick:()=>ee("ppl+rest"),children:"PPL + Rest"}),n.jsx("button",{className:"btn-outline px-3 py-1 rounded-lg",onClick:()=>ee("fullbody6"),children:"Full Body 6"})]})]}),!!D.length&&n.jsx("ul",{className:"text-xs text-red-400 list-disc pl-5 space-y-1",children:D.map(e=>n.jsx("li",{children:e},e))}),n.jsxs("div",{className:"flex flex-wrap gap-2 text-[10px] text-gray-400",children:[n.jsx("span",{children:"Planned Volume Allocator (beta)"}),n.jsx("button",{className:"btn-outline px-2 py-1 rounded-lg",onClick:()=>R(e=>!e),children:T?"Hide":"Open"})]}),T&&n.jsxs("div",{className:"rounded-xl bg-white/5 border border-white/10 p-3 space-y-2",children:[n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:Object.entries(F).map(([e,s])=>n.jsxs("label",{className:"space-y-1",children:[n.jsxs("span",{className:"text-[10px] uppercase tracking-wide text-gray-500 flex items-center justify-between",children:[n.jsx("span",{children:e}),n.jsx("span",{className:"opacity-60",children:B.current[e]||0})]}),n.jsx("input",{type:"number",min:0,max:40,value:s,onChange:s=>z(t=>({...t,[e]:Number(s.target.value)})),className:"w-full rounded bg-white/10 px-2 py-1 text-xs"}),n.jsxs("div",{className:"text-[10px] "+((B.diff[e]||0)>0?"text-amber-400":"text-emerald-400"),children:["Δ ",B.diff[e]||0]})]},e))}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500",children:"Suggestions"}),B.suggestions.length?n.jsx("ul",{className:"space-y-1 max-h-32 overflow-y-auto pr-1",children:B.suggestions.map((e,s)=>n.jsxs("li",{className:"text-[11px] bg-white/5 rounded px-2 py-1 flex justify-between",children:[n.jsxs("span",{children:["Day ",e.day+1,": add ",e.add," ",e.muscle," set",e.add>1?"s":""]}),n.jsxs("span",{className:"opacity-60",children:["need ",B.diff[e.muscle]||0]})]},s))}):n.jsx("div",{className:"text-[11px] text-gray-500",children:"Targets satisfied."})]}),n.jsx("div",{className:"text-[10px] text-gray-500",children:"(Allocator suggests additional sets for under-target muscles. Apply manually by editing templates.)"})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsx("button",{onClick:async()=>{const e=d(v);if(A(e),e.length)return void I("Fix errors before saving");k(!0);await c(v)?(f(v),I("Program saved")):I("Save failed"),k(!1)},disabled:N,className:"btn-primary rounded-xl px-4 py-2 text-sm disabled:opacity-40",children:N?"Saving…":"Save Program"}),n.jsx("button",{onClick:se,disabled:N,className:"btn-outline rounded-xl px-4 py-2 text-sm disabled:opacity-40",children:"Archive & Switch"}),n.jsx("button",{onClick:async()=>{if(window.confirm("Apply the current program templates to all sessions in the current phase that have no logged sets? Logged sessions will not be changed."))try{const[e,s,l,n]=await Promise.all([a.getAll("sessions"),t(),a.getAll("exercises"),a.getAll("templates")]),i=(null==s?void 0:s.currentPhase)||1,r=new Map(l.map(e=>[e.id,e])),d=new Map(n.map(e=>[e.id,e])),c=e=>{var s;return null==(s=e.entries)?void 0:s.some(e=>e.sets.some(e=>(e.weightKg||0)>0||(e.reps||0)>0))},o=e=>{var t,a;return Math.max(0,Math.min(6,s.defaultSetRows??(null==(a=null==(t=r.get(e))?void 0:t.defaults)?void 0:a.sets)??3))};let p=0;for(const t of e){if((t.phaseNumber||t.phase||1)!==i)continue;if(c(t))continue;const e=(t.id||"").split("-"),s=Number(e[2]);if(isNaN(s)||s<0||s>=v.weeklySplit.length)continue;const l=v.weeklySplit[s],n=null==l?void 0:l.templateId;if(!n){if(t.entries.length){const e={...t,entries:[],templateId:void 0,autoImportedTemplateId:void 0,updatedAt:(new Date).toISOString()};await a.put("sessions",e),p++}continue}const m=d.get(n);if(!m)continue;const u=new Map((m.plan||[]).map(e=>[e.exerciseId,e])),h=(m.exerciseIds||[]).map(e=>{var s,t;const a=o(e),l=u.get(e);return{id:x(),exerciseId:e,targetRepRange:(null==l?void 0:l.repRange)||(null==(t=null==(s=r.get(e))?void 0:s.defaults)?void 0:t.targetRepRange),sets:Array.from({length:a},(e,s)=>({setNumber:s+1,weightKg:0,reps:0}))}}),g={...t,entries:h,templateId:n,autoImportedTemplateId:n,updatedAt:(new Date).toISOString()};await a.put("sessions",g),p++}I(p?`Applied to ${p} session${p>1?"s":""}`:"No eligible sessions to update");try{window.dispatchEvent(new CustomEvent("sb-change",{detail:{table:"sessions"}}))}catch{}}catch(e){I("Failed to apply program")}},disabled:N,className:"btn-outline rounded-xl px-4 py-2 text-sm disabled:opacity-40",title:"Apply current program templates to all non-logged sessions in the current phase",children:"Apply to future sessions"}),n.jsx("span",{className:"text-[11px] text-gray-400",children:i(v)})]})]}),n.jsxs("div",{className:"glass-card rounded-2xl p-4 space-y-3",children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-gray-400",children:"Templates"}),n.jsx("p",{className:"text-[11px] text-gray-400 leading-relaxed",children:"Build reusable exercise groupings and import them straight into sessions. Keep core lifts consistent while experimenting with accessory variations."}),n.jsx("div",{children:n.jsx("a",{href:"#/templates",className:"inline-flex items-center gap-2 text-xs px-3 py-2 rounded-lg bg-emerald-600 hover:bg-emerald-500 text-black font-medium shadow transition-colors",children:"Manage Templates →"})})]}),M.length>0&&n.jsxs("div",{className:"glass-card rounded-2xl p-4 space-y-3",children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-gray-400",children:"Archived Programs"}),n.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-1",children:M.map(e=>{var s;return n.jsxs("div",{className:"flex items-center justify-between text-xs bg-white/5 rounded-xl px-3 py-2",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",children:e.name}),n.jsxs("span",{className:"text-[10px] text-gray-400",children:[e.summary||(null==(s=e.program)?void 0:s.mesoWeeks)+"w"," ·"," ",new Date(e.archivedAt).toLocaleDateString()]})]}),n.jsx("div",{className:"flex gap-2",children:n.jsx("button",{className:"btn-outline px-2 py-1 rounded-lg",disabled:N,onClick:()=>(async e=>{k(!0);const s=await p(e);s?(f(s),j(s),I("Program restored")):I("Restore failed"),k(!1)})(e.id),children:"Restore"})})]},e.id)})})]}),O&&n.jsxs("div",{className:"fixed bottom-4 right-4 z-50 max-w-xs bg-[var(--surface)]/90 backdrop-blur rounded-xl border border-[var(--border-subtle)] shadow-lg p-3 space-y-2 fade-in",onMouseLeave:()=>$(null),children:[n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsx("span",{className:"font-medium",children:O.name}),n.jsx("button",{className:"text-[10px] px-2 py-0.5 rounded bg-slate-700",onClick:()=>$(null),children:"Close"})]}),n.jsx("ul",{className:"space-y-1 max-h-40 overflow-y-auto pr-1 text-[11px]",children:O.exerciseIds.map(e=>n.jsxs("li",{className:"bg-white/5 rounded px-2 py-1 flex items-center justify-between",children:[n.jsx("span",{children:e.slice(0,6)}),n.jsx("span",{className:"opacity-60",children:"set×?"})]},e))}),n.jsx("div",{className:"text-[10px] text-gray-500",children:"(Template preview placeholder; replace id slices with exercise names & planned sets)"})]}),K&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:n.jsxs("div",{className:"bg-[var(--surface)] rounded-xl border border-[var(--border-subtle)] p-4 w-full max-w-md space-y-3 fade-in",children:[n.jsx("div",{className:"text-sm font-medium",children:"Confirm Archive & Switch"}),n.jsx("div",{className:"text-[11px] text-gray-400",children:"Review changes before archiving current program:"}),n.jsx("ul",{className:"text-[11px] list-disc pl-4 space-y-1 max-h-40 overflow-y-auto pr-1",children:G.map((e,s)=>n.jsx("li",{children:e},s))}),n.jsxs("div",{className:"flex gap-2 justify-end text-xs",children:[n.jsx("button",{className:"btn-outline px-3 py-1 rounded-lg",onClick:()=>{U(!1),_([])},children:"Cancel"}),n.jsx("button",{className:"btn-primary px-3 py-1 rounded-lg",onClick:()=>{U(!1),setTimeout(()=>se(),0)},children:"Confirm"})]})]})})]})}export{y as default};
