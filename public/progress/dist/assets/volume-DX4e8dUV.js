import{d as s}from"./index-9VdiHBfU.js";function e(s){let e=0;for(const o of s||[])((o.reps||0)>0||(o.weightKg||0)>0)&&e++;return e}async function o(o,n){const[t,c]=await Promise.all([(async()=>(null==n?void 0:n.sessions)||await s.getAll("sessions"))(),(async()=>(null==n?void 0:n.exercises)||await s.getAll("exercises"))()]),r=new Map(c.map(s=>[s.id,s])),i={},a={},l={};for(const s of t){const n=s.phaseNumber||s.phase||1;if(o&&n!==o)continue;const t=s.weekNumber||1,c=i[t]||(i[t]={});for(const o of s.entries){const s=r.get(o.exerciseId);if(!s)continue;const n=e(o.sets);if(!n)continue;const i=s.muscleGroup||"other";if(c[i]=(c[i]||0)+n,a[i]=(a[i]||0)+n,s.secondaryMuscles)for(const e of s.secondaryMuscles)c[e]=(c[e]||0)+.5*n,a[e]=(a[e]||0)+.5*n;l[t]=(l[t]||0)+n+(s.secondaryMuscles?s.secondaryMuscles.length*n*.5:0)}}return{perWeek:i,totals:a,weeklyTotals:l}}export{e as a,o as c};
