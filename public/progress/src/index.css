@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: dark;
  --accent: #22c55e; /* default accent */
  --accent-hover: #16a34a;
  --card-bg: #111826;
  --card-border: rgba(255, 255, 255, 0.05);
}

html,
body,
#root {
  height: 100%;
}

input[type="number"] {
  /* iOS brings numeric keypad */
  font-variant-numeric: tabular-nums;
}

/* simple shadcn-like tokens via tailwind */

/* Accent overrides */
.bg-brand-600 {
  background-color: var(--accent) !important;
}
.hover\:bg-brand-700:hover {
  background-color: var(--accent-hover) !important;
}

/* Card style variants via data attribute */
[data-card-style="glass"] .bg-card {
  background-color: color-mix(
    in srgb,
    var(--card-bg) 85%,
    transparent
  ) !important;
  backdrop-filter: blur(6px);
}
[data-card-style="solid"] .bg-card {
  background-color: var(--card-bg) !important;
}
[data-card-style="minimal"] .bg-card {
  background-color: transparent !important;
  border: 1px solid var(--card-border);
  box-shadow: none !important;
}

/* Rest timer enhancements */
.rest-btn-running {
  position: relative;
  box-shadow: 0 0 0 0 rgba(34,197,94,0.5);
  animation: restPulse 2s ease-in-out infinite;
}
.rest-btn-running::after {
  content: "";
  position: absolute;
  inset: -2px;
  border-radius: 9999px;
  background: radial-gradient(circle at 30% 30%, rgba(34,197,94,0.35), transparent 70%);
  pointer-events: none;
  filter: blur(4px);
  opacity: 0.8;
}
@keyframes restPulse {
  0% { box-shadow: 0 0 0 0 rgba(34,197,94,0.55); }
  70% { box-shadow: 0 0 0 14px rgba(34,197,94,0); }
  100% { box-shadow: 0 0 0 0 rgba(34,197,94,0); }
}
.rest-timer-chip.running {
  --ring: 120 100% 65%;
  box-shadow: 0 0 0 1px rgba(34,197,94,0.4), 0 0 8px 2px rgba(34,197,94,0.35), inset 0 0 4px 1px rgba(34,197,94,0.25);
  animation: timerGlow 1.8s linear infinite;
}
.rest-timer-chip.finished {
  animation: timerFinish 0.9s ease-in-out forwards;
}
@keyframes timerGlow {
  0%,100% { filter: brightness(1); }
  50% { filter: brightness(1.25); }
}
@keyframes timerFinish {
  0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(34,197,94,0.6); }
  60% { transform: scale(1.06); box-shadow: 0 0 0 12px rgba(34,197,94,0); }
  100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(34,197,94,0); }
}
